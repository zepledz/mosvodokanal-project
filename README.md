# Mosvodokanal Project

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–æ–¥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Å ML-–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –∞–Ω–æ–º–∞–ª–∏–π.

## –ó–∞–ø—É—Å–∫
```bash
docker-compose up -d

–û—Ç–∫—Ä—ã—Ç—å: http://localhost:5000
–õ–æ–≥–∏–Ω: admin
–ü–∞—Ä–æ–ª—å: password

## üì° API Documentation

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### üè¢ –î–∞–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏–π
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|
| GET | `/api/buildings` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–¥–∞–Ω–∏–π |
| GET | `/api/measurements/{building_id}` | –î–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–¥–∞–Ω–∏—è |

#### üìä –ü—Ä–æ–≥–Ω–æ–∑—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|
| GET | `/api/predictions` | –ü—Ä–æ–≥–Ω–æ–∑—ã —Ä–∏—Å–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∑–¥–∞–Ω–∏–π |
| GET | `/api/risk_summary` | –°–≤–æ–¥–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º —Ä–∏—Å–∫–∞ |
| GET | `/api/stats` | –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã |

#### üìà –ì—Ä–∞—Ñ–∏–∫–∏
| –ú–µ—Ç–æ–¥ | URL | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|-----------|
| GET | `/api/charts/consumption` | `period=30&building_id=all` | –î–∞–Ω–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è |
| GET | `/api/charts/trend` | `period=30&building_id=all` | –¢—Ä–µ–Ω–¥—ã –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è |
| GET | `/api/charts/risks` | - | –¢–æ–ø —Ä–∏—Å–∫–æ–≤—ã—Ö –∑–¥–∞–Ω–∏–π |

#### ü§ñ ML –ú–æ–¥–µ–ª—å
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|
| GET | `/api/model_status` | –°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–∏ |
| POST | `/api/train_model` | –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ |
| GET | `/api/debug/ml_status` | –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |

#### ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|
| GET | `/health` | Health check |
| GET | `/api/itp` | –°–ø–∏—Å–æ–∫ –ò–¢–ü |
| GET | `/api/mkd` | –°–ø–∏—Å–æ–∫ –ú–ö–î |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–≥–Ω–æ–∑—ã:
```bash
curl http://localhost:5000/api/predictions

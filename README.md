# Mosvodokanal Project

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–æ–¥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Å ML-–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –∞–Ω–æ–º–∞–ª–∏–π.

## –ó–∞–ø—É—Å–∫
```bash
docker-compose up -d

–û—Ç–∫—Ä—ã—Ç—å: http://localhost:5000
–õ–æ–≥–∏–Ω: admin
–ü–∞—Ä–æ–ª—å: password

## üì° API Documentation

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### üè¢ –î–∞–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏–π
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|
| GET | `/api/buildings` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–¥–∞–Ω–∏–π |
| GET | `/api/measurements/{building_id}` | –î–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–¥–∞–Ω–∏—è |

#### üìä –ü—Ä–æ–≥–Ω–æ–∑—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|
| GET | `/api/predictions` | –ü—Ä–æ–≥–Ω–æ–∑—ã —Ä–∏—Å–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∑–¥–∞–Ω–∏–π |
| GET | `/api/risk_summary` | –°–≤–æ–¥–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º —Ä–∏—Å–∫–∞ |
| GET | `/api/stats` | –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã |

#### üìà –ì—Ä–∞—Ñ–∏–∫–∏
| –ú–µ—Ç–æ–¥ | URL | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|-----------|
| GET | `/api/charts/consumption` | `period=30&building_id=all` | –î–∞–Ω–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è |
| GET | `/api/charts/trend` | `period=30&building_id=all` | –¢—Ä–µ–Ω–¥—ã –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è |
| GET | `/api/charts/risks` | - | –¢–æ–ø —Ä–∏—Å–∫–æ–≤—ã—Ö –∑–¥–∞–Ω–∏–π |

#### ü§ñ ML –ú–æ–¥–µ–ª—å
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|
| GET | `/api/model_status` | –°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–∏ |
| POST | `/api/train_model` | –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ |
| GET | `/api/debug/ml_status` | –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |

#### ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-----------|
| GET | `/health` | Health check |
| GET | `/api/itp` | –°–ø–∏—Å–æ–∫ –ò–¢–ü |
| GET | `/api/mkd` | –°–ø–∏—Å–æ–∫ –ú–ö–î |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–≥–Ω–æ–∑—ã:
```bash
curl http://localhost:5000/api/predictions

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### üìä –î–∞–Ω–Ω—ã–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –≤–æ–¥–æ–ø–æ—Ç—Ä–µ–±–µ–Ω–∏—é –¥–ª—è 50+ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –∑–¥–∞–Ω–∏–π
- **Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ WebSocket, –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ Kafka
- **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** - –≤—Å–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∞—Ä—Ö–∏–≤—É –∑–∞ –ª—é–±–æ–π –ø–µ—Ä–∏–æ–¥

### üè¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏
- **–°–ø–∏—Å–æ–∫ –∑–¥–∞–Ω–∏–π** - 50+ –ú–ö–î —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π, –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –ò–¢–ü –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∞–Ω–æ–º–∞–ª–∏–π
- **–ö–∞—Ä—Ç–∞ —Ä–∏—Å–∫–æ–≤** - –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –∑–æ–Ω —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π

### üîÆ –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ ML
- **ML –ø—Ä–æ–≥–Ω–æ–∑—ã** - Random Forest –º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π —Å –æ—Ü–µ–Ω–∫–æ–π —Ä–∏—Å–∫–∞ 0-1
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏ —Ä—É—á–Ω–æ–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏** - API —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ–æ–±—É—á–µ–Ω–∏—è –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üìà –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏** - –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –•–í–°/–ì–í–°, —Ç—Ä–µ–Ω–¥—ã, —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–î–∞—à–±–æ—Ä–¥—ã** - –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ì—Ä–∞—Ñ–∏–∫–∏ "–±—ã–ª–æ/—Å—Ç–∞–ª–æ"** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

### üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –≤—Ö–æ–¥ –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é (admin/password)
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã, —ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤
- **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö –∏ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞—Ö

### üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **REST API** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫ —Ä–µ–∞–ª—å–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º –ú–æ—Å–≤–æ–¥–æ–∫–∞–Ω–∞–ª–∞
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—ã—Å—è—á –∑–¥–∞–Ω–∏–π
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - AI-—Å–æ–≤–µ—Ç—ã –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –∞–Ω–æ–º–∞–ª–∏–π
